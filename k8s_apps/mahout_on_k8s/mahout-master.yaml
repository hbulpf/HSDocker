apiVersion: v1
kind: Service
metadata:
  name: mahout-nn-service
  labels:
    app: mahout-nn
spec:
  ports:
    - port: 9000
      name: hdfs
    - port: 50070
      name: name-node
  clusterIP: None
  selector:
    app: mahout-master
---
apiVersion: v1
kind: Pod
metadata:
  name: master
  labels:
    app: mahout-master
spec:
  containers:
  - image: 202.116.46.215/hsdocker2019/hs_mahout-hadoop:v1.0
    name: mahout-master
    imagePullPolicy: Always
    volumeMounts:
    - name: hadoopmwork
      mountPath: /root/hdfs  
    env:
    - name: JAVA_TOOL_OPTIONS
      value: "-Dfile.encoding=UTF8"
  volumes:
    - name: hadoopmwork
      persistentVolumeClaim:
        claimName: master-pvc    

